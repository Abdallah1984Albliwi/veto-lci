<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>VETO â€” Live Collective Intelligence</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%230f172a'/><circle cx='50' cy='50' r='30' fill='%238b5cf6'/></svg>"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#0f172a 0%,#1e293b 100%);color:#fff;min-height:100vh;display:flex;align-items:center;justify-content:center;overflow-x:hidden}
.particle{position:fixed;width:4px;height:4px;background:#8b5cf6;border-radius:50%;opacity:0.6;animation:float 10s infinite ease-in-out}
@keyframes float{0%,100%{transform:translateY(0) translateX(0)}50%{transform:translateY(-20px) translateX(10px)}}
.container{position:relative;z-index:1;max-width:600px;width:90%;text-align:center;padding:3rem 2rem}
.logo{width:80px;height:80px;margin:0 auto 2rem;animation:glow 3s ease-in-out infinite}
@keyframes glow{0%,100%{filter:drop-shadow(0 0 20px rgba(139,92,246,0.4))}50%{filter:drop-shadow(0 0 40px rgba(139,92,246,0.8))}}
.title{font-size:3rem;font-weight:800;background:linear-gradient(135deg,#fff 0%,#8b5cf6 50%,#06b6d4 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1rem;letter-spacing:-1px}
.subtitle{font-size:1.1rem;color:#94a3b8;margin-bottom:3rem;line-height:1.6}
.card{background:rgba(30,41,59,0.8);backdrop-filter:blur(20px);border:1px solid rgba(139,92,246,0.3);border-radius:24px;padding:2.5rem;box-shadow:0 20px 60px rgba(0,0,0,0.5)}
.btn{background:linear-gradient(135deg,#8b5cf6,#06b6d4);color:#fff;border:none;padding:1.2rem 2.5rem;border-radius:16px;font-size:1.05rem;font-weight:600;cursor:pointer;width:100%;transition:all 0.3s;margin-bottom:1rem;text-transform:uppercase;letter-spacing:1px;box-shadow:0 10px 30px rgba(139,92,246,0.4)}
.btn:hover{transform:translateY(-3px);box-shadow:0 15px 40px rgba(139,92,246,0.6)}
.divider{display:flex;align-items:center;gap:1rem;margin:1.5rem 0;color:#64748b;font-size:0.85rem;font-weight:500}
.divider::before,.divider::after{content:'';flex:1;height:1px;background:rgba(139,92,246,0.2)}
input{width:100%;background:rgba(15,23,42,0.8);border:1px solid rgba(139,92,246,0.3);color:#fff;padding:1rem 1.5rem;border-radius:12px;font-size:1rem;font-family:inherit;margin-bottom:1rem;transition:all 0.3s}
input:focus{outline:none;border-color:#8b5cf6;box-shadow:0 0 0 3px rgba(139,92,246,0.2)}
input::placeholder{color:#64748b}
.lang-toggle{position:fixed;top:2rem;right:2rem;background:rgba(139,92,246,0.15);border:1px solid rgba(139,92,246,0.3);color:#8b5cf6;padding:0.6rem 1.5rem;border-radius:12px;cursor:pointer;font-weight:600;font-size:0.9rem;transition:all 0.3s;z-index:100}
.lang-toggle:hover{background:rgba(139,92,246,0.25);transform:translateY(-2px)}
@media(max-width:768px){
.title{font-size:2rem}
.lang-toggle{top:1rem;right:1rem;padding:0.5rem 1rem;font-size:0.85rem}
}
</style>
</head>
<body>

<div class="particle" style="top:10%;left:20%;animation-delay:0s"></div>
<div class="particle" style="top:60%;left:80%;animation-delay:2s"></div>
<div class="particle" style="top:40%;left:10%;animation-delay:4s"></div>
<div class="particle" style="top:80%;left:60%;animation-delay:6s"></div>

<button class="lang-toggle" onclick="toggleLang()" id="langBtn">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>

<div class="container">
  <svg class="logo" viewBox="0 0 100 100">
    <circle cx="50" cy="50" r="48" fill="rgba(15,23,42,0.8)" stroke="#8b5cf6" stroke-width="2"/>
    <circle cx="50" cy="50" r="30" fill="#8b5cf6"/>
    <circle cx="50" cy="50" r="15" fill="rgba(15,23,42,0.8)"/>
    <circle cx="43" cy="43" r="5" fill="rgba(255,255,255,0.4)"/>
  </svg>
  
  <h1 class="title" id="title">VETO</h1>
  <p class="subtitle" id="subtitle">Live Collective Intelligence Platform</p>
  
  <div class="card">
    <button class="btn" onclick="createSession()" id="createBtn">ðŸ§  Create New Session</button>
    <div class="divider" id="divider">OR</div>
    <input type="text" id="sessionInput" placeholder="Enter Session ID..." maxlength="8">
    <button class="btn" style="background:linear-gradient(135deg,rgba(139,92,246,0.2),rgba(6,182,212,0.2));box-shadow:none" onclick="joinSession()" id="joinBtn">â†’ Join Session</button>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>

<script>
const firebaseConfig={apiKey:"AIzaSyAieHsN-E8-NQK8P-SrV9oWIZsBj060vNo",authDomain:"veto-d1412.firebaseapp.com",projectId:"veto-d1412",databaseURL:"https://veto-d1412-default-rtdb.asia-southeast1.firebasedatabase.app"};
firebase.initializeApp(firebaseConfig);
const db=firebase.database();

let currentLang='en';
const t={
  en:{title:'VETO',subtitle:'Live Collective Intelligence Platform',createBtn:'ðŸ§  Create New Session',divider:'OR',sessionInput:'Enter Session ID...',joinBtn:'â†’ Join Session',langBtn:'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'},
  ar:{title:'VETO',subtitle:'Ù…Ù†ØµØ© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ Ø§Ù„Ø­ÙŠ',createBtn:'ðŸ§  Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø©',divider:'Ø£Ùˆ',sessionInput:'Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„Ø³Ø©...',joinBtn:'â† Ø§Ù†Ø¶Ù… Ù„Ù„Ø¬Ù„Ø³Ø©',langBtn:'English'}
};

function toggleLang(){
  currentLang=currentLang==='en'?'ar':'en';
  document.documentElement.setAttribute('lang',currentLang);
  document.documentElement.setAttribute('dir',currentLang==='ar'?'rtl':'ltr');
  document.getElementById('langBtn').textContent=t[currentLang].langBtn;
  document.getElementById('title').textContent=t[currentLang].title;
  document.getElementById('subtitle').textContent=t[currentLang].subtitle;
  document.getElementById('createBtn').textContent=t[currentLang].createBtn;
  document.getElementById('divider').textContent=t[currentLang].divider;
  document.getElementById('sessionInput').placeholder=t[currentLang].sessionInput;
  document.getElementById('joinBtn').textContent=t[currentLang].joinBtn;
}

function generateSessionId(){
  return Math.random().toString(36).substr(2,8).toUpperCase();
}

async function createSession(){
  const sessionId=generateSessionId();
  try{
    await db.ref('sessions/'+sessionId).set({created:Date.now(),active:true,participants:0,collectiveMind:''});
    window.location.href='session.html?id='+sessionId+'&lang='+currentLang;
  }catch(e){alert('Failed to create session');}
}

function joinSession(){
  const sessionId=document.getElementById('sessionInput').value.trim().toUpperCase();
  if(!sessionId){alert(currentLang==='en'?'Please enter session ID':'ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„Ø³Ø©');return;}
  db.ref('sessions/'+sessionId).once('value',s=>{
    if(s.exists()&&s.val().active){
      window.location.href='session.html?id='+sessionId+'&lang='+currentLang;
    }else{alert(currentLang==='en'?'Session not found':'Ø§Ù„Ø¬Ù„Ø³Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');}
  });
}
</script>

</body>
</html>
